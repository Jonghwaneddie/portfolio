<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Loggia Gallery</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300;700&display=swap');
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  body {
    font-family: 'Montserrat', sans-serif;
    background: #fff;
    color: #000;
    margin-left: 120px; /* 메뉴 공간 확보 */
    padding: 60px 20px;
  }
  #menu-container {
    margin-bottom: 20px;
  }
  h1 {
    font-size: 14px;
    font-weight: 700;
    letter-spacing: 1.5px;
    margin-bottom: 10px;
    /* 왼쪽 끝 맞춤 */
    margin-left: 0;
  }
  p {
    font-size: 12px;
    font-weight: 300;
    letter-spacing: 1.2px;
    line-height: 1.4;
    margin-bottom: 30px;
    margin-left: 0; /* 왼쪽 끝 맞춤 */
  }
  .gallery-container {
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  .main-image-container {
    position: relative;
    width: 80vw;       /* 최대 가로 80% 뷰포트 */
    max-width: 900px;  /* 최대 900px 너비 */
    max-height: 80vh;  /* 최대 세로 80% 뷰포트 */
    margin-bottom: 20px;
  }
  .main-image {
    width: 100%;
    height: auto;
    max-height: 80vh;
    border-radius: 8px;
    object-fit: contain;
    display: block;
  }
  /* 화살표 버튼 */
  .arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    font-size: 2.5rem;
    color: rgba(0,0,0,0.5);
    background: rgba(255,255,255,0.7);
    border-radius: 50%;
    width: 40px;
    height: 40px;
    line-height: 40px;
    text-align: center;
    cursor: pointer;
    user-select: none;
    transition: color 0.3s ease;
  }
  .arrow:hover {
    color: rgba(0,0,0,0.8);
  }
  .arrow-left {
    left: 10px;
  }
  .arrow-right {
    right: 10px;
  }
  /* 썸네일 미리보기 */
  .thumbnail-container {
    display: flex;
    gap: 10px;
    overflow-x: auto;
    width: 100%;
    max-width: 900px;
    padding-bottom: 5px;
  }
  .thumbnail {
    flex: 0 0 auto;
    width: 100px;
    height: 60px;
    object-fit: cover;
    border-radius: 4px;
    cursor: pointer;
    opacity: 0.7;
    transition: opacity 0.3s ease, border 0.3s ease;
    border: 2px solid transparent;
  }
  .thumbnail.selected,
  .thumbnail:hover {
    opacity: 1;
    border-color: #333;
  }
  /* 반응형 */
  @media (max-width: 600px) {
    .main-image-container {
      width: 95vw;
      max-width: none;
    }
    .thumbnail {
      width: 70px;
      height: 42px;
    }
  }
</style>
</head>
<body>

<div id="menu-container"></div>

<h1>Loggia </h1>
<p>해방된 기둥이 있다. 구역을 만들어내는 기둥은 중심에서 장소를 구체화하고 있지만 그 무엇도 지지하지 않고 있다. 정확히는 어디를 지지하고 있는지 말할 수 없다. 기둥의 끝에서 빛이 솟아오른다. 기둥은 저기 있지만 빛은 다가와 마주침을 만들어낸다. 기둥과 빛은 보이지 않는 것을 마주하기 위해 공간과 시간을 뒤섞어 지금 이 자리에 있음을 느끼게 한다. 그곳은 재현되는 것이 아니라 스스로를 드러낸다. 기둥 속에서 반짝이는 추는 반복되는 소리를 흘려보낸다. 그 소리는 이곳이 우리와 또 다른 것임을 알려주는 듯하다. </p>

<div class="gallery-container">
  <div class="main-image-container">
    <div class="arrow arrow-left" id="prevBtn">&#10094;</div>
    <img src="images/loggia1.jpg" alt="Loggia Image" class="main-image" id="mainImage" />
    <div class="arrow arrow-right" id="nextBtn">&#10095;</div>
  </div>

  <div class="thumbnail-container" id="thumbnails">
    <!-- 썸네일 이미지들 -->
    <img src="loggiaimages/loggia1.jpg" class="thumbnail selected" data-index="0" alt="Thumbnail 1" />
    <img src="loggiaimages/loggia2.jpg" class="thumbnail" data-index="1" alt="Thumbnail 2" />
    <img src="loggiaimages/loggia3.jpg" class="thumbnail" data-index="2" alt="Thumbnail 3" />
    <img src="loggiaimages/loggia4.jpg" class="thumbnail" data-index="3" alt="Thumbnail 4" />
    <img src="loggiaimages/loggia5.jpg" class="thumbnail" data-index="4" alt="Thumbnail 5" />
    <img src="loggiaimages/loggia6.jpg" class="thumbnail" data-index="5" alt="Thumbnail 6" />
    <img src="loggiaimages/loggia7.jpg" class="thumbnail" data-index="6" alt="Thumbnail 7" />
    <img src="loggiaimages/loggia8.jpg" class="thumbnail" data-index="7" alt="Thumbnail 8" />
    <img src="loggiaimages/loggia9.jpg" class="thumbnail" data-index="8" alt="Thumbnail 9" />
    <img src="loggiaimages/loggia10.jpg" class="thumbnail" data-index="9" alt="Thumbnail 10" />
  </div>
</div>

<script>
  fetch('menu.html')
    .then(response => response.text())
    .then(data => {
      document.getElementById('menu-container').innerHTML = data;
      window.toggleProjectMenu = function(e, submenuId) {
        e.preventDefault();

        const submenu1 = document.getElementById('projectSubmenu1');
        const submenu2 = document.getElementById('projectSubmenu2');
        const targetSubmenu = document.getElementById(submenuId);
        if (!targetSubmenu) return;

        if (submenuId === 'projectSubmenu1' && submenu2.classList.contains('show')) {
          submenu2.style.maxHeight = null;
          submenu2.classList.remove('show');
        } else if (submenuId === 'projectSubmenu2' && submenu1.classList.contains('show')) {
          submenu1.style.maxHeight = null;
          submenu1.classList.remove('show');
        }

        if (targetSubmenu.classList.contains('show')) {
          targetSubmenu.style.maxHeight = null;
          targetSubmenu.classList.remove('show');
        } else {
          targetSubmenu.style.maxHeight = targetSubmenu.scrollHeight + "px";
          targetSubmenu.classList.add('show');
        }
      }
    });

  // 이미지 배열
  const images = [
    "loggiaimages/loggia1.jpg",
    "loggiaimages/loggia2.jpg",
    "loggiaimages/loggia3.jpg",
    "loggiaimages/loggia4.jpg",
    "loggiaimages/loggia5.jpg",
    "loggiaimages/loggia6.jpg",
    "loggiaimages/loggia7.jpg",
    "loggiaimages/loggia8.jpg",
    "loggiaimages/loggia9.jpg",
    "loggiaimages/loggia10.jpg"
  ];

  let currentIndex = 0;

  const mainImage = document.getElementById('mainImage');
  const thumbnails = document.querySelectorAll('.thumbnail');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');

  function updateMainImage(index) {
    currentIndex = index;
    mainImage.src = images[index];
    thumbnails.forEach((thumb, i) => {
      thumb.classList.toggle('selected', i === index);
    });
  }

  prevBtn.addEventListener('click', () => {
    const newIndex = (currentIndex === 0) ? images.length - 1 : currentIndex -1;
    updateMainImage(newIndex);
  });

  nextBtn.addEventListener('click', () => {
    const newIndex = (currentIndex === images.length -1) ? 0 : currentIndex +1;
    updateMainImage(newIndex);
  });

  thumbnails.forEach(thumb => {
    thumb.addEventListener('click', (e) => {
      const idx = parseInt(e.target.getAttribute('data-index'), 10);
      updateMainImage(idx);
    });
  });

  // 키보드 화살표로 이미지 넘기기
  document.addEventListener('keydown', (e) => {
    if (e.key === "ArrowLeft") {
      prevBtn.click();
    } else if (e.key === "ArrowRight") {
      nextBtn.click();
    }
  });

  // 초기 이미지 셋팅
  updateMainImage(0);

</script>

</body>
</html>
