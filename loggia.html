<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Loggia Gallery</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300;700&display=swap');
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Montserrat', sans-serif;
      background: #fff; color: #000;
      margin-left: 120px; padding: 60px 20px;
    }
    #menu-container { margin-bottom: 30px; }
    h1 { font-size: 14px; font-weight: 700; letter-spacing: 1.5px; margin-bottom: 20px; }
    .gallery-container { display: flex; flex-direction: column; align-items: flex-start; }
    .description { max-width: 900px; width: 80vw; margin-bottom: 20px; }
    .description p { font-size: 12px; font-weight: 300; letter-spacing: 1.2px; line-height: 1.4; }
    .image-list {
      display: flex; flex-direction: column; gap: 20px;
      max-width: 900px; width: 80vw;
    }
    .image-list img {
      width: 100%; height: auto; cursor: pointer; border-radius: 4px;
      transition: transform 0.2s;
    }
    .image-list img:hover { transform: scale(1.01); }
    .modal {
      display: none;
      position: fixed; z-index: 999;
      top: 0; left: 0; width: 100%; height: 100%;
      background-color: rgba(0, 0, 0, 0.9);
      justify-content: center; align-items: center;
    }
    .modal img {
      max-width: 90vw; max-height: 90vh;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    }
    .modal-close {
      position: fixed; top: 20px; right: 30px;
      font-size: 30px; color: #fff; cursor: pointer;
      user-select: none;
    }
    .arrow {
      position: absolute; top: 50%;
      font-size: 40px; color: #fff;
      cursor: pointer; user-select: none;
      padding: 10px;
      transform: translateY(-50%);
    }
    .arrow.left { left: 30px; }
    .arrow.right { right: 30px; }
  </style>
</head>
<body>

  <!-- 메뉴 자리 (menu.html을 불러옴) -->
  <div id="menu-container"></div>

  <h1>Loggia (2025)</h1>

  <div class="gallery-container">
    <div class="description">
      <p>해방된 기둥이 있다... (논문형 설명 텍스트)</p>
    </div>

    <div class="image-list" id="imageList">
      <img src="loggiaimages/loggia1.jpg" alt="Loggia 1">
      <img src="loggiaimages/loggia2.jpg" alt="Loggia 2">
      <!-- ... 이미지를 계속 나열 ... -->
      <img src="loggiaimages/loggia10.jpg" alt="Loggia 10">
    </div>
  </div>

  <div class="modal" id="imageModal">
    <span class="modal-close" id="modalClose">&times;</span>
    <span class="arrow left" id="prevArrow">&#10094;</span>
    <img id="modalImage" src="" alt="확대 이미지" />
    <span class="arrow right" id="nextArrow">&#10095;</span>
  </div>

  <script>
    // 메뉴 로드
    fetch('menu.html')
      .then(res => res.text())
      .then(html => {
        document.getElementById('menu-container').innerHTML = html;
        // 메뉴 토글 함수 사용 시 활성화 필요 시 여기에 추가
      });

    // 모달과 이미지 제어
    const modal = document.getElementById("imageModal");
    const modalImg = document.getElementById("modalImage");
    const closeBtn = document.getElementById("modalClose");
    const prevArrow = document.getElementById("prevArrow");
    const nextArrow = document.getElementById("nextArrow");

    const images = Array.from(document.querySelectorAll('.image-list img'));
    let currentIndex = 0;

    function showModal(index) {
      currentIndex = index;
      modalImg.src = images[index].src;
      modalImg.alt = images[index].alt;
      modal.style.display = "flex";
    }

    images.forEach((img, idx) => {
      img.addEventListener('click', () => showModal(idx));
    });

    function showNext() {
      currentIndex = (currentIndex + 1) % images.length;
      showModal(currentIndex);
    }
    function showPrev() {
      currentIndex = (currentIndex - 1 + images.length) % images.length;
      showModal(currentIndex);
    }

    nextArrow.addEventListener('click', showNext);
    prevArrow.addEventListener('click', showPrev);

    closeBtn.addEventListener('click', () => (modal.style.display = "none"));
    modal.addEventListener('click', e => {
      if (e.target === modal) modal.style.display = "none";
    });

    document.addEventListener('keydown', e => {
      if (modal.style.display === "flex") {
        if (e.key === "ArrowRight") showNext();
        else if (e.key === "ArrowLeft") showPrev();
        else if (e.key === "Escape") modal.style.display = "none";
      }
    });
  </script>

</body>
</html>
