<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Jonghwan Lee - Index</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@300;700&display=swap');
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  body {
    font-family: 'Montserrat', sans-serif;
    background: #fff;
    color: #000;
    margin-left: 120px; /* 메뉴 공간 확보 */
    padding: 60px 20px;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }
  h1 {
    font-size: 10px;
    font-weight: 700;
    letter-spacing: 1.5px;
    margin-bottom: 30px;
  }
  p {
    font-size: 10px;
    font-weight: 300;
    letter-spacing: 1.2px;
    line-height: 1.6;
  }

  /* === Loggia Gallery 스타일 시작 === */
  #loggia-gallery {
    margin-top: 40px;
    align-self: flex-start; /* 왼쪽 정렬 */
  }
  #loggia-gallery #description {
    margin-bottom: 10px;
    font-size: 1.2rem;
    color: #333;
    text-align: left;
    width: 600px;
    font-weight: 600;
  }
  #loggia-gallery .main-image {
    position: relative;
    width: 600px;
    height: 400px;
    overflow: hidden;
  }
  #loggia-gallery .main-image img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    display: block;
  }
  #loggia-gallery .arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    font-size: 2.5rem;
    color: rgba(0,0,0,0.6);
    background: rgba(255,255,255,0.7);
    border-radius: 50%;
    width: 40px;
    height: 40px;
    line-height: 40px;
    text-align: center;
    cursor: pointer;
    user-select: none;
  }
  #loggia-gallery .arrow:hover {
    background: rgba(255,255,255,0.9);
  }
  #loggia-gallery .arrow-left {
    left: 10px;
  }
  #loggia-gallery .arrow-right {
    right: 10px;
  }
  #loggia-gallery .thumbnail-container {
    margin-top: 15px;
    display: flex;
    gap: 8px;
    overflow-x: auto;
    width: 600px;
  }
  #loggia-gallery .thumbnail-container::-webkit-scrollbar {
    height: 6px;
  }
  #loggia-gallery .thumbnail-container::-webkit-scrollbar-thumb {
    background: #ccc;
    border-radius: 3px;
  }
  #loggia-gallery .thumbnail {
    flex: 0 0 auto;
    width: 80px;
    height: 60px;
    cursor: pointer;
    border: 2px solid transparent;
  }
  #loggia-gallery .thumbnail.selected {
    border-color: #333;
  }
  #loggia-gallery .thumbnail img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }
  /* === Loggia Gallery 스타일 끝 === */

</style>
</head>
<body>

<div id="menu-container"></div>

<h1>Welcome to Jonghwan Lee’s site</h1>
<p>기본 소개 텍스트 또는 다른 내용이 여기에 들어갑니다.</p>

<!-- Loggia Gallery 영역 추가 -->
<section id="loggia-gallery">
  <div id="description">
    <div>Loggia Gallery</div>
    <div>Loggia 전시회 사진 모음입니다.</div>
  </div>

  <div class="main-image">
    <span class="arrow arrow-left">&#8592;</span>
    <span class="arrow arrow-right">&#8594;</span>
    <img src="images/loggia1.jpg" alt="Loggia 1" id="mainImage" />
  </div>

  <div class="thumbnail-container" id="thumbnails">
    <div class="thumbnail selected" data-index="0"><img src="loggiaimages/loggia1.jpg" alt="Loggia 1" /></div>
    <div class="thumbnail" data-index="1"><img src="loggiaimages/loggia2.jpg" alt="Loggia 2" /></div>
    <div class="thumbnail" data-index="2"><img src="loggiaimages/loggia3.jpg" alt="Loggia 3" /></div>
    <div class="thumbnail" data-index="3"><img src="loggiaimages/loggia4.jpg" alt="Loggia 4" /></div>
    <div class="thumbnail" data-index="4"><img src="loggiaimages/loggia5.jpg" alt="Loggia 5" /></div>
    <div class="thumbnail" data-index="5"><img src="loggiaimages/loggia6.jpg" alt="Loggia 6" /></div>
    <div class="thumbnail" data-index="6"><img src="loggiaimages/loggia7.jpg" alt="Loggia 7" /></div>
    <div class="thumbnail" data-index="7"><img src="loggiaimages/loggia8.jpg" alt="Loggia 8" /></div>
    <div class="thumbnail" data-index="8"><img src="loggiaimages/loggia9.jpg" alt="Loggia 9" /></div>
    <div class="thumbnail" data-index="9"><img src="loggiaimages/loggia10.jpg" alt="Loggia 10" /></div>
  </div>
</section>

<script>
  fetch('menu.html')
    .then(response => response.text())
    .then(data => {
      document.getElementById('menu-container').innerHTML = data;

      // 메뉴 토글 함수 정의
      window.toggleProjectMenu = function(e, submenuId) {
        e.preventDefault();

        const submenu1 = document.getElementById('projectSubmenu1');
        const submenu2 = document.getElementById('projectSubmenu2');
        const targetSubmenu = document.getElementById(submenuId);
        if (!targetSubmenu) return;

        if (submenuId === 'projectSubmenu1' && submenu2.classList.contains('show')) {
          submenu2.style.maxHeight = null;
          submenu2.classList.remove('show');
        } else if (submenuId === 'projectSubmenu2' && submenu1.classList.contains('show')) {
          submenu1.style.maxHeight = null;
          submenu1.classList.remove('show');
        }

        if (targetSubmenu.classList.contains('show')) {
          targetSubmenu.style.maxHeight = null;
          targetSubmenu.classList.remove('show');
        } else {
          targetSubmenu.style.maxHeight = targetSubmenu.scrollHeight + "px";
          targetSubmenu.classList.add('show');
        }
      }
    });

  /* === Loggia Gallery 스크립트 === */
  const images = [
    'images/loggia1.jpg',
    'images/loggia2.jpg',
    'images/loggia3.jpg',
    'images/loggia4.jpg',
    'images/loggia5.jpg',
    'images/loggia6.jpg',
    'images/loggia7.jpg',
    'images/loggia8.jpg',
    'images/loggia9.jpg',
    'images/loggia10.jpg'
  ];

  let currentIndex = 0;
  const mainImage = document.getElementById('mainImage');
  const thumbnails = document.querySelectorAll('#thumbnails .thumbnail');

  function showImage(index) {
    if(index < 0) index = images.length -1;
    if(index >= images.length) index = 0;
    currentIndex = index;
    mainImage.src = images[currentIndex];
    thumbnails.forEach(thumb => thumb.classList.remove('selected'));
    thumbnails[currentIndex].classList.add('selected');
  }

  // 초기 이미지 보여주기
  window.addEventListener('DOMContentLoaded', () => {
    showImage(0);

    // 썸네일 클릭
    thumbnails.forEach(thumb => {
      thumb.addEventListener('click', () => {
        const idx = parseInt(thumb.getAttribute('data-index'));
        showImage(idx);
      });
    });

    // 화살표 클릭
    document.querySelector('#loggia-gallery .arrow-left').addEventListener('click', () => {
      showImage(currentIndex - 1);
    });
    document.querySelector('#loggia-gallery .arrow-right').addEventListener('click', () => {
      showImage(currentIndex + 1);
    });

    // 키보드 이벤트
    window.addEventListener('keydown', (e) => {
      if(e.key === 'ArrowLeft') {
        showImage(currentIndex - 1);
      } else if(e.key === 'ArrowRight') {
        showImage(currentIndex + 1);
      }
    });
  });
</script>

</body>
</html>
